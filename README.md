# pymp3-ytdl üéµ

A Python script to download MP3s from URLs (e.g., YouTube), apply metadata (title, artist), and embed video thumbnails as cover art.

![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)
[![License: GPL v2](https://img.shields.io/badge/License-GPL%20v2-blue.svg)](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html)
[![GitHub stars](https://img.shields.io/github/stars/PremerX007/pymp3-ytdl.svg?style=social&label=Star)](https://github.com/PremerX007/pymp3-ytdl)

## ‚ú® Features

- Downloads audio from a wide range of URLs supported by **yt-dlp**.
- Converts downloaded audio to **MP3** format.
- Automatically sets **ID3 metadata** (title, artist) based on video information.
- Embeds video thumbnails as **cover art** (with automatic WebP to JPEG conversion for better compatibility).
- Saves files to a configurable output directory (default: `downloaded_music`).
- Flexible logging system with adjustable levels (`INFO`, `DEBUG`).
- Option to keep yt-dlp generated filenames or perform custom renaming based on cleaned metadata.

## üìã Prerequisites

- **Python 3.8 or higher.**
- **`ffmpeg`**: Must be installed and accessible in your system's PATH. `yt-dlp` uses it for audio extraction and conversion.
  - You can download `ffmpeg` from [ffmpeg.org](https://ffmpeg.org/download.html).
- **Git** (for cloning the repository).

## ‚öôÔ∏è Installation

1.  **Clone the repository:**

    ```bash
    git clone https://github.com/PremerX007/pymp3-ytdl.git
    cd pymp3-ytdl
    ```

2.  **Create and activate a virtual environment (highly recommended):**

    ```bash
    # Create a virtual environment named 'venv'
    python -m venv venv

    # Activate the virtual environment
    # On Windows:
    venv\Scripts\activate
    # On macOS/Linux:
    source venv/bin/activate
    ```

3.  **Install the required Python dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

## üöÄ Usage

Run the script from your terminal using the following command structure:

```bash
python pymp3_ytdl.py path/to/your/url_list.txt [options]
```

**Arguments:**

- `url_list.txt`: (Required) A text file containing one URL per line. Each URL will be processed.

**Options:**

- `--loglevel LEVEL`: Set the logging verbosity.
  - Choices: `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL`.
  - Default: `INFO` (shows progress and key events).
  - `DEBUG` provides very detailed output, including yt-dlp's own messages.

**Examples:**

1.  **Basic usage (INFO log level):**
    Create a file named `my_links.txt` with content like:

    ```
    https://www.youtube.com/watch?v=dQw4w9WgXcQ
    https://www.youtube.com/watch?v=3JZ_D3ELwOQ
    ```

    Then run:

    ```bash
    python pymp3_ytdl.py my_links.txt
    ```

    Downloaded MP3s will be saved in the `downloaded_music` directory.

2.  **Usage with DEBUG logging:**
    ```bash
    python pymp3_ytdl.py my_links.txt --loglevel DEBUG
    ```

## üõ†Ô∏è Configuration

You can modify the following constants at the top of the `pymp3_ytdl.py` script for persistent settings:

- `OUTPUT_DIRECTORY_NAME = "downloaded_music"`: Change the name of the default output directory.
- `PERFORM_CUSTOM_RENAMING = False`:
  - Set to `True` if you want the script to attempt renaming files based on the cleaned title metadata (e.g., "My Song Title.mp3").
  - Set to `False` (default) to keep the filenames as generated by `yt-dlp`, which often preserves more original characters, especially for non-ASCII titles.

## üìú License

This project is licensed under the **GNU General Public License v2.0 (GPL-2.0)**.
See the [LICENSE](LICENSE) file for the full license text.

This project relies on several fantastic open-source libraries:

- **yt-dlp**: For downloading and extracting video/audio information. ([The Unlicense](https://github.com/yt-dlp/yt-dlp/blob/master/LICENSE))
- **mutagen**: For reading and writing ID3 metadata tags. ([GPLv2+](https://github.com/quodlibet/mutagen/blob/master/COPYING))
- **Requests**: For making HTTP requests (used for downloading thumbnails). ([Apache License 2.0](https://github.com/psf/requests/blob/main/LICENSE))
- **Pillow (PIL Fork)**: For image manipulation, specifically converting WebP thumbnails to JPEG. ([HPND License](https://github.com/python-pillow/Pillow/blob/main/LICENSE))
- **Python Standard Library**: (PSFL)

## ü§ù Contributing

Contributions, issues, and feature requests are welcome!
Feel free to check [issues page](https://github.com/PremerX007/pymp3-ytdl/issues) if you want to contribute.

1.  Fork the Project.
2.  Create your Feature Branch (`git checkout -b feature/AmazingFeature`).
3.  Commit your Changes (`git commit -m 'Add some AmazingFeature'`).
4.  Push to the Branch (`git push origin feature/AmazingFeature`).
5.  Open a Pull Request.

## ‚ö†Ô∏è Disclaimer

This tool is intended for personal and educational use only. Please respect copyright laws and the terms of service of the websites you are downloading content from. The developers of this tool are not responsible for any misuse of this software or any copyright infringement. Ensure you have the necessary rights to download and use any content.
